{"version":3,"sources":["components/Header/index.js","components/Warn/index.js","components/Loading/index.js","utils/api.js","components/SearchCard/index.js","components/Narrative/index.js","components/Results/index.js","pages/main/index.js","components/Login/index.js","pages/login/index.js","App.js","index.js"],"names":["myNav","props","Navbar","Brand","style","flex","username","ButtonToolbar","ButtonGroup","className","table","sheet","filename","buttonText","Button","variant","onClick","event","preventDefault","axios","post","then","response","status","updateUser","loggedIn","window","location","reload","catch","error","console","log","WarnDiv","Card","id","display","color","warnDisplay","children","Loading","Spinner","animation","loadingDisplay","runSearch","date","a","fetch","search","Error","json","data","warn","deleteSearch","SearchCard","useState","setDate","setWarnDisplay","setLoadingDisplay","update","target","index","parseInt","getAttribute","value","length","API","join","undefined","getPosts","type","data-index","placeholder","onChange","Warn","Narrative","Results","mapPosts","currentPosts","map","currentPost","Date","toISOString","substring","key","_id","confirmed","toLocaleString","deaths","recovered","err","Table","striped","bordered","hover","Main","Header","LoginForm","React","state","setState","history","useHistory","useEffect","push","background","justifyContent","alignItems","e","loginUser","LoginPage","Login","userid","App","posts","getUser","get","user","name","method","headers","body","JSON","stringify","res","this","pageShown","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2e60afd0.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport Button from 'react-bootstrap/Button'\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar'\nimport HtmlToExcel from 'react-html-table-to-excel'\nimport Navbar from 'react-bootstrap/Navbar'\n\n// props here are from App // Main\n\nfunction myNav (props) {\n    \n    function logOut (event) {\n        event.preventDefault()\n        axios.post('/logout').then(response => {\n          if (response.status === 200) {\n            props.updateUser({\n              loggedIn: false,\n              username: null\n            })     \n        }\n        })\n        .then(\n            window.location.reload()\n        )\n        .catch(error => {\n            console.log('Logout error')\n        })\n      }\n\n        return (\n            <Navbar>\n                <Navbar.Brand style={{ flex: 1 }}>\n                    <h3><strong>Precision19</strong></h3>\n                    <h5>Welcome, {props.username}</h5>\n                   \n                    \n                </Navbar.Brand>\n                <ButtonToolbar>\n                    <ButtonGroup className=\"mr-2\">\n                        <HtmlToExcel \n                            table=\"table\"\n                            sheet=\"precision_19_data\"\n                            filename={`data_export_${props.username}`}\n                            buttonText=\"Download\"\n                            className=\"btn btn-dark btn-sm\"\n                        />\n                    </ButtonGroup>\n                    <ButtonGroup>\n                        <Button variant=\"danger\" className='btn-sm' onClick={logOut}>\n                            Log Out\n                        </Button>\n                    </ButtonGroup>\n                </ButtonToolbar>\n            </Navbar>\n        )\n}\n\nexport default myNav","import React from 'react'\nimport Card from 'react-bootstrap/Card'\n\nfunction WarnDiv (props) {\n    return (\n        <Card id='warn' style={{display: \"block\"}}>\n            <p className='card-text' \n            style={\n                { \n                    color: '#ffdd00',\n                    display: props.warnDisplay ? props.warnDisplay : \"none\" \n                }\n            }>\n                {props.children}\n            </p>\n        </Card>\n    )\n}\n\nexport default WarnDiv","import React from 'react'\nimport Spinner from 'react-bootstrap/Spinner'\n\n// loading takes a prop from it's current container, either the results or login components\n\nfunction Loading (props) {\n    return (\n        <Spinner \n            animation=\"border\" \n            variant=\"light\" \n            style={\n                { display: props.loadingDisplay ? props.loadingDisplay : \"none\" }\n            }\n        />\n    )\n}\n\nexport default Loading","import React from 'react'\nimport axios from 'axios'\n\n\nexport default {\n    runSearch: async (date) => {\n        try {\n            const search = await fetch(\"/api/covid?date=\" + date)\n            if (search.status !== 200) throw new Error(\"Unsuccesssful\");\n\n            const data = await search.json();\n            return data\n        } catch (error) {\n            console.warn(error)\n        }\n    },\n\n    deleteSearch: (id) => {\n        \n        return axios.post('/posts/delete/' + id)\n    },\n    \n}","import React, { useState } from 'react'\nimport Card from 'react-bootstrap/Card'\nimport Warn from '../Warn'\nimport Loading from '../Loading'\nimport Button from 'react-bootstrap/Button'\nimport API from '../../utils/api'\n\nfunction SearchCard(props) {\n    const [date, setDate] = useState([\"2020\", \"08\", \"22\"]);\n    const [warnDisplay, setWarnDisplay] = useState(false)\n    const [loadingDisplay, setLoadingDisplay] = useState(false)\n\n    const update = ({ target }) => {\n        const index = parseInt(target.getAttribute(\"data-index\"))\n        const value = target.value.length === 2 ? target.value : \"0\" + target.value;\n\n        date[index] = value;\n\n        setDate(date);\n    }\n\n    const search = async () => {\n        setLoadingDisplay(true)\n        try {\n            const result = await API.runSearch(date.join(\"-\"))\n            if (result === undefined) {\n                setLoadingDisplay(false)\n                setWarnDisplay(true)\n            } else {\n                setLoadingDisplay(false)\n                setWarnDisplay(false)\n                props.getPosts()\n            }\n        } catch (error) {\n            setLoadingDisplay(false)\n            console.warn(error)\n        }\n    }\n\n    return (\n        <div>\n            <Card>\n                <div className='form-group'>\n                    <input className='form-control' type=\"number\" data-index=\"1\" placeholder='Month (#)' onChange={update}></input>\n                </div>\n                <div className='form-group'>\n                    <input className='form-control' type=\"number\" data-index=\"2\" placeholder='Day (#)' onChange={update}></input>\n                </div>\n                <div className=\"form-group\">\n                        <select className=\"form-control\" type=\"number\" data-index=\"0\" placeholder='Year (#)' onChange={update}>\n                        <option>2020</option>\n                    </select>\n                </div>\n                <Warn warnDisplay={warnDisplay}>Please use a valid date</Warn>\n                <Loading loadingDisplay={loadingDisplay} />\n                <Button className='btn btn-primary btn-sm' onClick={search} id='submit-glob-tot'>Go</Button>\n            </Card>\n        </div>\n    )\n}\n\nexport default SearchCard","import React from 'react'\nimport Card from 'react-bootstrap/Card'\n\nfunction Narrative() {\n    return (\n        <div>\n            <Card>\n                <h4>\n                    <strong>\n                        For precision research on COVID-19.\n                    </strong>\n                </h4>\n                <p>\n                    Comensurate with the scale of the catastrophy that is the COVID-19 pandemic, the volume of data generated is staggering. This is a tool for users undertaking specific, targeted research.\n                </p>\n                <p>\n                    By entering the month, day, and year, and clicking \"Go,\" Johns Hopkins global data for that date will be returned in the chart to the right.\n                </p>\n                <p>\n                    Download your data to an Excel file by clicking the \"Download\" button on the navigation bar.\n                </p>\n                <p>\n                    <strong>PLEASE NOTE:</strong> the first day for which Johns Hopkins has data available is Jan 22, 2020.\n                </p>\n            </Card>\n        </div>\n    )\n}\n\nexport default Narrative","import React from 'react';\nimport API from '../../utils/api'\nimport Table from 'react-bootstrap/Table'\n\nfunction Results (props) {\n\n    function _delete(id) {\n        API.deleteSearch(id)\n          .then(props.getPosts)\n          .catch(err => console.log(err));\n      }\n\n    const currentPosts = props.currentPosts\n    let mapPosts\n    if (currentPosts) {\n        mapPosts = currentPosts.map(currentPost => {\n            let date = new Date(currentPost.date).toISOString().substring(0, 10)\n            return (\n            <tr key={currentPost._id}>\n                <td>\n                    {date}\n                </td>\n                <td>\n                    {currentPost.confirmed.toLocaleString()}\n\n                </td>\n                <td>\n                    {currentPost.deaths.toLocaleString()}\n                </td>\n                <td>\n                    {currentPost.recovered.toLocaleString()}\n                </td>\n                <td >\n                    <button className='btn btn-warning btn-sm' onClick={() => _delete(currentPost._id)}>\n                        Delete\n                    </button>\n                </td>\n            </tr>\n            )\n        }) \n    }\n\n\n    \n    return (\n    <div>\n        <Table id={'table'} striped bordered hover >\n            <thead>\n                <tr>\n                <th>\n                    Date\n                </th>\n                <th>\n                    Global Confirmed\n                </th>\n                <th>\n                    Global Deaths\n                </th>\n                <th>\n                    Global Recovered\n                </th>\n                <th>\n                    Remove Search\n                </th>\n                </tr>\n            </thead>\n            <tbody>\n                {mapPosts}\n            </tbody>\n        </Table>\n    </div>\n    )\n\n}\n\nexport default Results        ","import React, { useState } from 'react';\nimport Header from '../../components/Header'\nimport SearchCard from '../../components/SearchCard'\nimport Narrative from '../../components/Narrative'\nimport Results from '../../components/Results'\n\nfunction Main(props) {\n  return (\n    <div>\n      <Header username={props.username} />\n      <div className=\"container\">\n        <div className=\"row\">\n        <Narrative />\n        </div>\n        {/* this is the main body row that holds both the search form and results */}\n        <div className=\"row\" id=\"main\">\n          <div className=\"col-md-3\">\n            <SearchCard getPosts={props.getPosts}/>\n          </div>\n          <div className=\"col-md-9\">\n            <Results getPosts={props.getPosts} currentPosts={props.currentPosts} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Main;","import React from 'react'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport { useHistory } from 'react-router-dom'\n\n\nfunction LoginForm(props) {\n    const [state, setState] = React.useState(\"\");\n    const history = useHistory();\n\n    React.useEffect(() => {\n        if (props.loggedIn) history.push(\"/\")\n    }, [props.loggedIn])\n\n    return (\n        <div className='container'>\n            <div className='jumbotron' style={{ background: 'none' }}>\n                <div className='row'>\n                    <div className='col'></div>\n                    <div className='col-md-6'>\n                        <Card  style={{ justifyContent: 'center', alignItems: 'center' }}>\n                            <div className='card-header'>\n                                <h1>\n                                    <strong>\n                                        Precision19\n                                    </strong>\n                                </h1>\n                            </div>\n                            <div className='card-body'>\n                                <h4>\n                                    A targeted resource for researchers\n                                </h4>\n                                <p>\n                                    If you have an account, enter your username and log in.\n                                </p>\n                                <p>\n                                    If you've never logged in, just enter a username and hit \"Log In,\" and an account will be created for you.\n                                </p>\n                            </div>\n                            <div className=\"form-group\">\n                                <input className='form-control' type=\"text\" placeholder=\"username\" onChange={e => setState(e.target.value)} ></input>\n                            </div>\n                            <div className='form-group'>\n                                <Button type=\"submit\" className='btn btn-sm btn-secondary' onClick={() => props.loginUser(state)}>Log In</Button>\n                            </div>\n                        </Card>\n                    </div>\n                    <div className='col'></div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default LoginForm","import React from 'react'\nimport Login from '../../components/Login'\n\nfunction LoginPage(props) {\n\n    return <Login\n        loginUser={props.loginUser}\n        loggedIn={props.loggedIn}\n        username={props.username}\n        userid={props.userid}\n    />\n}\n\nexport default LoginPage\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport Main from './pages/main';\nimport Login from './pages/login'\n\n\nclass App extends Component {\n\n  state = {\n    loggedIn: false,\n    username: null,\n    userid: null,\n    posts: null,\n    currentPosts: null\n  }\n\n  // when App loads, run getUser function which will perform a get and set the state to the user if there's a session in progress\n  componentDidMount() {\n    this.getUser()\n  }\n\n  updateUser(state) {\n    this.setState(state)\n  }\n\n  getUser = () => {\n    axios\n    .get('/user')\n    .then(response => {\n      if (response.data.user) {\n        this.setState({\n          loggedIn: true,\n          username: response.data.user,\n          userid: response.data.id,\n          posts: response.data.posts\n\n        })\n        this.getPosts()\n      } else {\n        this.setState({\n          loggedIn: false,\n          username: null,\n          userid: null\n        })\n      }\n    })\n  }\n\n  getPosts = () => {\n    axios\n      .get('/posts')\n      .then(response => {\n        this.setState({\n          currentPosts: response.data\n        })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  loginUser = (name) => {\n\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ username: name })\n    })\n      .then(res => res.json())\n      .then(res => this.setState({ loggedIn: true, username: res.username, userid: res._id }))\n      .then(this.updateUser)\n      .then(this.getUser)\n      .then(window.location.reload())\n      .catch(err => console.log(err))\n  }\n  \n  render() {\n    const isLoggedIn = this.state.loggedIn\n    let pageShown\n\n    if (isLoggedIn) {\n      pageShown = <Main \n        loggedIn={this.state.loggedIn} \n        username={this.state.username} \n        userid={this.state.userid}\n        posts={this.state.posts}\n        currentPosts={this.state.currentPosts}\n        getPosts={this.getPosts}\n        updateUser={this.updateUser} \n        />\n    } else {\n      pageShown = <Login \n        loggedIn={this.state.loggedIn} \n        username={this.state.username} \n        userid={this.state.userid} \n        loginUser={this.loginUser} \n      />\n    }\n    return (\n      <div>\n        {pageShown}\n      </div>\n    );\n  }\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}